<!DOCTYPE html>
<html>
<header>
	<title>PIB</title>
	<link rel="stylesheet" href="style.css">
    <script>
		const prefixraw = window.location.pathname;
		const prefix = prefixraw.slice(0, -1);
		const currentPath = window.location.pathname;
		const baseUrl = `http://localhost${currentPath}`;
		//alert(baseUrl); 
	</script>
</header>
<body>


<nav>
	<!--create button set static-->
	<div id="button-container-etape" class="button-container-for-etape">
		<div  class="logo_div" ><a href=baseUrl+"/home.html" id="btnlogo" target="right"><img  src="./img/logo.png"></a></div>
		<div class="methodflag">
			<script>
				if(localStorage.getItem("val")==null){
					document.write("Method");
				}else{
					document.write(localStorage.getItem("val"));
				}
			</script>

		</div>


	</div>
	<div class="config_div">
		<div></div>
		<!-- config button -->
		<div class="button_config_div"><button id="myBtn" class="btnconfig">Configuration</button></div>
	</div>

</nav>



	<!--progressbar-->
	<div class="progress-container">
		<div class="progress-bar" id="myBar"></div>
	</div>


	<div class="dropdown">  

		<!--create button with name and url-->
		<div id="button-container"></div>
		
		<!-- The Modal -->
		<div id="myModal" class="modal">
			<!-- Modal content -->
			<div class="modal-content">
				<span class="close">&times;</span>
			

				
				<!--create button with name and url-->
			<h1>Add etape buttons set acording to the method</h1>
	
			    <form>
					<select id="method" name="method">
						<option value="Scrum">Scrum</option>
						<option value="Kanban">Kanban</option>
					</select><br>
					<input type="button" id="btnselect" value="Create Button Set" onclick="handleClick()">
				</form>
				<div id="button-container-etape"></div>
				<div class="remove-container-etape" id="remove-container-etape"></div>

                <hr>
            <h1>Add resource button</h1>
				<form>
					<label for="url">URL:</label>
					<input type="text" id="url" name="url"><br>
					<label for="text">Button Text:</label>
					<input type="text" id="text" name="text" maxlength="26"><br>
					<label for="color">Select color by theme:</label>
					<select id="color" name="color">
						
						<option value="#555555">C++</option>
						<option value="red">Java</option>
						<option value="#178600">C#</option>
						<option value="#F05138">Swift</option>
						<option value="#dea584">Rust</option>
						<option value="#701516">Ruby</option>
						<option value="#4F5D95">PHP</option>
						<option value="#adb2cb">VHDL</option>
						<option value="#f1e05a">JavaScript</option>
						<option value="#e34c26">HTML</option>			
						<option value="#00008B">ORM/DB</option>		
						<option value="#3572A5">Python</option>
						<option value="#e38c00">SQL</option>
						<option value="#0060ac">XML</option>
						<option value="#B8860B">N/A</option>
						<option value="#183A1D">Default</option>
					</select>
					<label for="target">Target:</label>
					<select id="target" name="target">
						<option value="left">Left Window</option>
						<option value="right">Right Window</option>
					</select><br>
					<input type="button" id="create" value="Create Resource Button" onclick="createButton()">
				</form>
				<div id="button-container"></div>
				<div class="remove-container" id="remove-container"></div>
				<hr>
				<h1>Add Trello account</h1>
				<label for="urlapi">URL of public board/URL+key+token:</label>
				<input type="text" id="urlapi"><br>
				<input type="button" id="btnselectapi" value="Create API and apply to Ticketing button" onclick="handleClickAPI()">
				<hr>

				<h1>Backup/Restore</h1>
				<p>
				   <button id="backup-button">Backup Local Storage</button>
				</p>
		   
			   <p>
				   <label for="restore-input">Restore Local Storage:</label>
				   <input type="file" id="restore-input">
			   </p>
			</div>  
		</div>
	</div>	
	

	<div id="" class="separatorContainer">
		<div id="panel1" class="panel">
			<div name="tt" class="iframe-wrapper">
				<iframe name="left" src="" type="application/pdf"></iframe>
			</div>
		</div>
		<div id="divider" class="dividerStyle"></div>
		<div id="panel2" class="panel">
			<div class="iframe-wrapper">
				<iframe width="100%"
				height="100%"
				 name="right" src="" type="application/pdf"></iframe>
			</div>
		</div>
	</div>
	</body>
	</html>
	<script>
		// Function to update the progress bar
		function updateProgressBar(progress) {
		  document.getElementById("myBar").style.width = progress + "%";
		}
	  
		// Retrieve the progress value from localStorage
		const savedProgress = localStorage.getItem("progress");
		let overallProgress = 0;
	  
		if (savedProgress && !isNaN(savedProgress)) {
		  overallProgress = parseInt(savedProgress, 10);
		}
	  
		// Update the progress bar on page load
		updateProgressBar(overallProgress);
	</script>
	
	<script src="script.js"></script>
	<script src="local_storage_back_restore.js"></script>
	
